<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Exploratory Analysis of Factors Associated with Cancer Mortality in the National Health and Nutrition Examination Survey Dataset</title>
  <meta name="description" content="Exploratory Analysis of Factors Associated with Cancer Mortality in the National Health and Nutrition Examination Survey Dataset">
  <meta name="generator" content="bookdown <!--bookdown:version--> and GitBook 2.6.7">

  <meta property="og:title" content="Exploratory Analysis of Factors Associated with Cancer Mortality in the National Health and Nutrition Examination Survey Dataset" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Exploratory Analysis of Factors Associated with Cancer Mortality in the National Health and Nutrition Examination Survey Dataset" />
  
  
  

<meta name="author" content="Martin Skarzynski">


<meta name="date" content="2018-05-02">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



<!--bookdown:title:start-->
<div id="header">
<h1 class="title">Exploratory Analysis of Factors Associated with Cancer Mortality in the National Health and Nutrition Examination Survey Dataset</h1>
<p class="author"><em>Martin Skarzynski</em></p>
<p class="date"><em>2018-05-02</em></p>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#abstract"><span class="toc-section-number">0.1</span> Abstract</a></li>
<li><a href="#introduction"><span class="toc-section-number">0.2</span> Introduction</a></li>
<li><a href="#methods"><span class="toc-section-number">0.3</span> Methods</a></li>
<li><a href="#results"><span class="toc-section-number">0.4</span> Results</a></li>
<li><a href="#discussion"><span class="toc-section-number">0.5</span> Discussion</a></li>
<li><a href="#connections-to-mph-goals-analysis"><span class="toc-section-number">0.6</span> Connections to MPH Goals Analysis</a></li>
<li><a href="#references"><span class="toc-section-number">0.7</span> References</a></li>
<li><a href="#rmd-basics"><span class="toc-section-number">1</span> R Markdown Basics</a><ul>
<li><a href="#lists"><span class="toc-section-number">1.1</span> Lists</a></li>
<li><a href="#line-breaks"><span class="toc-section-number">1.2</span> Line breaks</a></li>
<li><a href="#r-chunks"><span class="toc-section-number">1.3</span> R chunks</a></li>
<li><a href="#inline-code"><span class="toc-section-number">1.4</span> Inline code</a></li>
<li><a href="#including-plots"><span class="toc-section-number">1.5</span> Including plots</a></li>
<li><a href="#loading-and-exploring-data"><span class="toc-section-number">1.6</span> Loading and exploring data</a></li>
<li><a href="#additional-resources"><span class="toc-section-number">1.7</span> Additional resources</a></li>
</ul></li>
<li><a href="#math-sci"><span class="toc-section-number">2</span> Mathematics and Science</a><ul>
<li><a href="#math"><span class="toc-section-number">2.1</span> Math</a></li>
<li><a href="#chemistry-101-symbols"><span class="toc-section-number">2.2</span> Chemistry 101: Symbols</a><ul>
<li><a href="#typesetting-reactions"><span class="toc-section-number">2.2.1</span> Typesetting reactions</a></li>
<li><a href="#other-examples-of-reactions"><span class="toc-section-number">2.2.2</span> Other examples of reactions</a></li>
</ul></li>
<li><a href="#physics"><span class="toc-section-number">2.3</span> Physics</a></li>
<li><a href="#biology"><span class="toc-section-number">2.4</span> Biology</a></li>
</ul></li>
<li><a href="#ref-labels"><span class="toc-section-number">3</span> Tables, Graphics, References, and Labels</a><ul>
<li><a href="#tables"><span class="toc-section-number">3.1</span> Tables</a></li>
<li><a href="#figures"><span class="toc-section-number">3.2</span> Figures</a></li>
<li><a href="#footnotes-and-endnotes"><span class="toc-section-number">3.3</span> Footnotes and Endnotes</a></li>
<li><a href="#bibliographies"><span class="toc-section-number">3.4</span> Bibliographies</a></li>
<li><a href="#anything-else"><span class="toc-section-number">3.5</span> Anything else?</a></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#appendix-appendix">(APPENDIX) Appendix</a></li>
<li><a href="#the-first-appendix"><span class="toc-section-number">4</span> The First Appendix</a></li>
<li><a href="#the-second-appendix-for-fun"><span class="toc-section-number">5</span> The Second Appendix, for Fun</a></li>
<li><a href="#references-1">References</a></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploratory Analysis of Factors Associated with Cancer Mortality in the National Health and Nutrition Examination Survey Dataset</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<!--
Above is the YAML (YAML Ain't Markup Language) header that includes a lot of metadata used to produce the document.  Be careful with spacing in this header!

If you'd prefer to not include a Dedication, for example, simply delete lines 17 and 18 above or add a # before them to comment them out.  If you have other LaTeX packages you would like to include, delete the # before header-includes and list the packages after hyphens on new lines.

If you'd like to include a comment that won't be produced in your resulting file enclose it in a block like this.
-->
<!--
If you receive a duplicate label error after knitting, make sure to delete the index.Rmd file and then knit again.
-->
<!-- You'll need to include the order that you'd like Rmd files to appear in the _bookdown.yml file for
PDF files and also delete the # before rmd_files: there.  You'll want to not include 00(two-hyphens)prelim.Rmd
and 00-abstract.Rmd since they are handled in the YAML above differently for the PDF version.
-->
<!-- The {.unnumbered} option here means that the introduction will be "Chapter 0." You can also use {-} for no numbers
on chapters.
-->
<div id="abstract" class="section level2">
<h2><span class="header-section-number">0.1</span> Abstract</h2>
<p><strong>Context:</strong> Large epidemiologic cohort studies, such as the National Health and Nutrition Examination Survey (NHANES), collect copious high-dimensional data that allow for examination of multiple exposures in relation to a given outcome.</p>
<p><strong>Objective:</strong> To explore the exposures measured in the Third National Health and Nutrition Examination Survey (NHANES III) dataset in search of factors associated with cancer mortality data obtained from the National Death Index (NDI) and to assess methods for lethal cancer risk prediction model variable selection.</p>
<p><strong>Methods:</strong> We fit thousands of Cox proportional hazards models with and without ridge penalties to randomly selected subsets of up to 50 variables. We analyzed the descriptions of NHANES variables provided by NCHS and selected 3 variables that are important, non-modifiable risk factors for cancer (age, sex and race/ethnicity) to include in all future models. We then compared variables that appeared most frequently in the Cox models with high significance (p &lt; 10<sup>-10</sup>) and selected 5 high-frequency, highly significant variables that we used to train a new group of models with fewer randomized variables.</p>
<p><strong>Results:</strong> The models with selected variables outperformed the fully randomized models in terms of concordance. Across all of the models, the ten variables that most frequently surpassed the p-value threshold were age, race/ethnicity, lifetime consumption of more than 100 cigarettes, 3 variables that pertain to physical activity and 3 variables that may be related to aging.</p>
<p><strong>Conclusions:</strong> The work described here constitutes an exploratory analysis of the NHANES III dataset that employs an iterative strategy for the generation of cancer risk prediction models. Looking beyond this demonstration of a variable selection method, our ultimate goal is to build upon previously-described cancer risk factors towards the discovery of novel contributors to cancer risk, a deeper understanding of cancer etiology, and an improved ability to predict cancer incidence and mortality.</p>
</div>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">0.2</span> Introduction</h2>
<p>Cancer susceptibility is influenced by modifiable and non-modifiable factors. Modifiable cancer risk factors include body mass index (BMI) and cigarette use, whereas the non-modifiable factors include age, sex, race/ethnicity, single nucleotide polymorphisms (SNPs), and family history of disease. According to a 2018 study by Islami and colleagues <span class="citation">[1]</span>, modifiable risk factors are responsible for 42% of all cancer cases and 45% of all cancer deaths. This finding suggests that cancer prevention strategies that target modifiable risk factors have the potential to almost halve cancer incidence and mortality in the United States. A near two-fold reduction in cancer cases and deaths may seem far-fetched, but cancer incidence and mortality in United Status have been declining by ~1.5% every year from 2009-2014 and 2001-2015, respectively <span class="citation">[2]</span>. Taken together, these data indicate that while tremendous progress has been made, there is still great potential for cancer prevention approaches to decrease cancer incidence and mortality.</p>
<p>The scale of cancer burden in the United States is staggering. Siegel and colleagues estimate that in 2018 there will be 1.7 million newly diagnosed cancer cases and roughly 600 thousand cancer deaths <span class="citation">[2]</span>. Cancer risk prediction models can help policymakers and cancer prevention practitioners develop more effective interventions and to channel limited resources towards people at the greatest risk. To achieve the best performance, cancer risk prediction models must include both modifiable and non-modifiable risk factors. In 2016, Maas and colleagues <span class="citation">[3]</span> demonstrated that cancer risk prediction models based on known epidemiologic risk factors can be improved when genetic information such as SNPs are included in the models. Importantly, the combined model provided better risk stratification than the models containing only epidemiologic risk factors or only genetic variables.</p>
<p>The challenge of cancer risk prediction is complex and will require cancer-type specific strategies that integrate multiple types of data and explore various modeling methods. In addition to deepening our understanding of known cancer risk factors, it is imperative to identify new factors that may only be meaningful in the larger context of contributors to cancer risk. This larger context includes the collection of genetic inheritance, called the genome, and the myriad exposures that individuals experience during their lives, known as the exposome <span class="citation">[4]</span>.</p>
<p>Some genetic factors and environmental exposures may be very strongly linked to cancer. Examples of well-described genetic and environmental cancer risk factors include TP53 gene mutation in Li-Fraumeni Syndrome and asbestos inhalation in mesothelioma, respectively. One of the strongest cancer risk factors is cigarette smoking. In fact, smoking was the strongest modifiable risk factor in the 2018 study by Islami and colleagues <span class="citation">[1]</span>. In this study, Islami and colleagues determined that 19% of all cancers cases and roughly 29% of all cancers deaths can be attributed to cigarette smoking <span class="citation">[1]</span>. To look beyond known cancer risk factors like cigarette smoking, new cancer risk prediction models will need to detect small, but meaningful effects amid a sea of other variables.</p>
<p>As part of the effort to tackle this challenge, we analyzed data from <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/DataFiles.aspx">Third National Health and Nutrition Examination Survey (NHANES III)</a> <span class="citation">[5]</span> and the accompanying <a href="https://www.cdc.gov/nchs/data-linkage/mortality-public.htm">National Death Index (NDI) Public-Use Linked Mortality Files</a>. The first goal of the analysis was to explore the available NHANES III data and identify potential variables of interest for cancer mortality risk prediction. The second goal was to define an approach for variable selection for cancer risk prediction models. NHANES III is different from many other studies, in that instead of randomly sampling, NHANES utilizes a complex design that employs probability-based sampling in multiple stages <span class="citation">[5]</span>.</p>
<p>While the current work focuses solely on NHANES III, the data exploration and variable selection methods described here can potentially be applied to other studies, even those that have different designs. For example, the Atherosclerosis Risk in Communities (ARIC) study <span class="citation">[6]</span> and the Framingham Heart Study (FHS) <span class="citation">[7]</span> are, like NHANES, large cohort studies that do not focus on cancer, but include relevant cancer outcomes as part of rich, multidimensional datasets. In fact, the ARIC <span class="citation">[8]</span>, NHANES <span class="citation">[9]</span>, and FHS <span class="citation">[10]</span> datasets have already proven useful for cancer research.</p>
</div>
<div id="methods" class="section level2">
<h2><span class="header-section-number">0.3</span> Methods</h2>
<p>The Third National Health and Nutrition Examination Survey (NHANES III) collected data on 33,994 participants aged 2 months and older from 1988 to 1994 in the United States. The data, which include Interview, Medical Examination, and Laboratory components, were collected and linked with Mortality data from NDI death certificate records by the National Center for Health Statistics (NCHS) of the Centers for Disease Control and Prevention (CDC). From the initial pool of participants, we selected 16404 adult (<span class="math inline">\(age \geq 18\)</span>) participants who were cancer-free at baseline and who had no missing values for follow-up time since interview, NDI mortality, primary sampling units (PSU), stratification, and sampling weight variables.</p>
<p>The initial publicly available dataset contained 3544 exposures from the Interview, Medical Examination, Laboratory, and Mortality components. After removing variables that were non-numeric, missing any values, only had one unique value, or had correlation to another variable greater than 0.9, we obtained the final set of 243 exposures. The analysis described here did not involve multiple imputation nor utilize the NHANES III Multiply Imputed Data Set. Among the 16404 participants, there were 964 cancer deaths and 280891 total years of follow-up since the initial Interview data were collected. The cancer deaths and follow-up time were used as the outcome (survival) in Cox proportional hazards regression analysis <span class="citation">[11]</span>.</p>
<p>NHANES III data and documentation are available on the <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/DataFiles.aspx">Centers for Disease Control (CDC) - National Center for Health Statistics (NCHS) website</a>. The National Death Index (NDI) linked mortality data are available separately on the <a href="https://www.cdc.gov/nchs/data-linkage/mortality-public.htm">Public-Use Linked Mortality Files webpage</a>. We processed the Interview, Medical Examination, and Laboratory, and Mortality data using the <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/DataFiles.aspx">SAS code provided by NCHS</a>, SAS University Edition version <code>9.04.01M5P09132017</code> on a Jupyter Notebook <span class="citation">[12, 13]</span> server version <code>5.1.0</code> running with Python version <code>3.5.1</code> <span class="citation">[14]</span> on the Linux <span class="citation">[15]</span> operating system version <code>Red Hat 4.4.7-16</code> (with GNU Compiler Collection version <code>4.4.7 20120313</code>).</p>
<p>We modified the SAS code to save the data as comma-separated-value (<code>.csv</code>) files, which are available on <a href="https://figshare.com/articles/adult_csv/6210263">FigShare</a>. The SAS code files (<code>.sas</code>) and analogous Jupyter Notebook files (<code>.ipynb</code>) are available on <a href="https://github.com/marskar/nhanes">GitHub</a>. We then read the <code>.csv</code> files into open-source R software <span class="citation">[16]</span> version <code>3.5</code> using the <code>readr</code> R package <span class="citation">[17]</span>. R has a vibrant community and a rich ecosystem of software packages. All of the software packages used in this work can be accessed from the Comprehensive R Archive Network (CRAN) <span class="citation">[18]</span> or from GitHub <span class="citation">[19]</span> using the <code>devtools</code> package <span class="citation">[20]</span>.</p>
<p>Next, we used the <code>dplyr</code> R package <span class="citation">[21]</span> to 1) remove all NHANES participant identifiers (<code>SEQN</code>) without cause of death (<code>UCOD_LEADING</code>) or follow-up time from interview (<code>PERMTH_INT</code>) variables, 2) create a cancer mortality variable based on whether the cause of death was “Malignant neoplasms (<code>C00-C97</code>)”, and 3) join all four datasets together by the participant identifier variable. From the combined dataset, we removed baseline cancer cases (using the interview variables <code>HAC1N</code> and <code>HAC1O</code>), participants that were missing the relevant NHANES sampling variables (<code>SDDPSU6</code>, <code>SDSTRA6</code>, and <code>WTPFQX6</code>), variables with a time origin other than the date of interview (e.g. <code>PERMTH_EXM</code> ), unnecessary NHANES sampling variables, and variables that were based on or similar to the main age variable (such as the age in months, <code>HSAITMOR</code>). To create the final processed dataset, we also removed highly correlated variables (<span class="math inline">\(r \geq 0.9\)</span>) using the <code>caret</code> R package.</p>
<p>Methods to analyze complex survey data using SAS, SPSS, STATA, SUDAAN, <span class="citation">[22]</span> and R <span class="citation">[23, 24]</span> software have been described. From the final dataset, we randomly selected 1 to 50 predictor variables and trained Cox proportional hazards models with the <code>survey</code> R package <span class="citation">[23, 24]</span>, which allows for the analysis of complex survey design data using R <span class="citation">[25]</span>. In half of the models, we applied ridge penalties <span class="citation">[26]</span> to the predictors variables using the <code>survival</code> R Package <span class="citation">[11, 27]</span>. In addition to the predictor variables, the models also included 1) a “survival object” <span class="citation">[11, 27]</span> created from the event (cancer mortality) and follow-up time variables and 2) a “design object” <span class="citation">[24]</span> created from the Primary Sampling Unit (<code>SDDPSU6</code>), Stratification (<code>SDSTRA6</code>) and Weight (<code>WTPFQX6</code>) NHANES sampling variables<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<p>We then calculated statistics describing the models and the variables they contained and saved these statistics as <code>.rds</code> files using the <code>readr</code> package <span class="citation">[17]</span>. We automated the modeling and statistical analyses using the <code>purrr</code> R package <span class="citation">[28]</span> and GNU Make <span class="citation">[29]</span>. Specifically, the model statistics collected were concordance <span class="citation">[30]</span> and Akaike Information Criterion (AIC) <span class="citation">[31]</span> values, while the variable statistics were p-values, hazard ratios, and hazard ratio confidence intervals. We unpacked the model and variable data using the <code>tidyr</code> R package <span class="citation">[32]</span>.</p>
<p>Next, we selected 3 potential confounder variables representing age (<code>HSAGEIR</code>) race/ethnicity (<code>DMAETHNR</code>), sex (<code>HSSEX</code>) and repeated the modeling and statistical analysis process described above. For the final modeling run, we chose an additional 5 variables (<code>HAB1</code>, <code>HAR1</code>, <code>HAQ1</code>, <code>HAT2</code>, and <code>HAT10</code>) that appeared with high frequency as highly significant (p-value &lt; 10<sup>-10</sup>) variables in the models we trained earlier. We joined all of the model and variable statistics together, standardized column names using the <code>stringr</code> <span class="citation">[33]</span> R package, and reordered the variable names according to their counts using the <code>forcats</code> <span class="citation">[34]</span> R package. To make the final figures, the concordance and AIC values (Figure 1), p-values and hazard ratios (Figure 2) and the number of times each variable appeared in the models (Figure 3) were plotted using the <code>ggplot2</code> R package <span class="citation">[35]</span>.</p>
</div>
<div id="results" class="section level2">
<h2><span class="header-section-number">0.4</span> Results</h2>
<p>We present the data from thousands of Cox proportional hazards models (n = 3789) we trained on NHANES III data in three iterative steps. The Akaike Information Criterion (AIC) <span class="citation">[31]</span> and concordance values <span class="citation">[30]</span> for all models are plotted in Figure 1. To better understand the models created during the first iteration, we divided the Group 1 models into 4 subgroups (1A, 1B, 1C, and 1D) based on their AIC and concordance values. The models from the first iteration (Figure 1; Groups 1A-D; green, cyan, blue, purple) were fully randomized in terms of the predictor variables that were included, while the next two iterations (Figure 1; Groups 2-3; orange, red) consisted of models that started with 3 and 8 non-randomized variables, respectively, before the addition of randomly chosen variables. The 3 variables included in the second and third iteration were age, sex, and race/ethnicity, whereas the final iteration contained an additional 5 variables, which appeared frequently as highly significant (p &lt; 10<sup>-10</sup>) variables in the previous iterations. In all cases, the models contained up to 50 predictor variables.</p>
<p>The models from the third iteration (Figure 1; Group 3; red) had the highest concordance values overall, indicating that the addition of the 8 non-randomized predictor variables led to higher discriminatory power between low and high-risk individuals. The gains in concordance seem to be largely due to the addition of the age, sex, and race/ethnicity variables as the concordance values we obtained from the second (Figure 1; Group 2; orange) and third (Figure 1; Group 3; red) iterations were similar. Interestingly, models from the third iteration all had concordance values of 84 or higher (Figure 1; black horizontal line), while the range of AIC values was roughly the same in all three groups of models (Figure 1). This finding suggests that while concordance can differentiate between models from the three iterations, AIC by itself is unable to make this distinction.</p>
<div class="figure">
<img src="img/1-quad-final100dpi.png" alt="Cancer Mortality Risk Prediction Models Trained on NHANES III Data. Each point in the scatter plot represents a Cox proportional hazards model (n=3789) trained on NHANES III data. The sizes of the points are relative to the number of variables (maximum = 50) in each the model, while the shapes correspond to whether ridge penalties were applied (triangle) or not (circle). The colors of points distinguish between models that had 0 (Groups 1A-D; green, cyan, blue, purple), 3 (Group 2; orange) or 8 (Group 3; red) non-randomized predictor variables. Additionally, Group 1 models are further color coded by quadrants based on concordance and Akaike Information Criterion (AIC) values as follows: high-concordance and low-AIC (Group 1A; green), high-concordance and high-AIC (Group 1B; cyan), low-concordance and low-AIC (Group 1C; blue), low-concordance and high-AIC (Group 1D; purple). All Group 3 models have concordance values of 84 or higher (black horizontal line)." style="width:100.0%" />
<p class="caption"><strong>Cancer Mortality Risk Prediction Models Trained on NHANES III Data.</strong> Each point in the scatter plot represents a Cox proportional hazards model (n=3789) trained on NHANES III data. The sizes of the points are relative to the number of variables (maximum = 50) in each the model, while the shapes correspond to whether ridge penalties were applied (triangle) or not (circle). The colors of points distinguish between models that had 0 (Groups 1A-D; green, cyan, blue, purple), 3 (Group 2; orange) or 8 (Group 3; red) non-randomized predictor variables. Additionally, Group 1 models are further color coded by quadrants based on concordance and Akaike Information Criterion (AIC) values as follows: high-concordance and low-AIC (Group 1A; green), high-concordance and high-AIC (Group 1B; cyan), low-concordance and low-AIC (Group 1C; blue), low-concordance and high-AIC (Group 1D; purple). All Group 3 models have concordance values of 84 or higher (black horizontal line).</p>
</div>
<p>The addition of a metric like AIC is important, because it serves to provide a balance of goodness-of-fit and model complexity. Concordance, unlike AIC, does not take into account the complexity of a model. As follows, larger models tended to have higher concordance values, but also higher AIC values. We applied ridge penalties <span class="citation">[26]</span>, also known as L2 regularization <span class="citation">[36]</span>, to half of the models from all three iterations, and noted that ridge penalization controls this increase in AIC as models become larger (Figure 1). The relationship between model size and concordance appears to plateau as concordance increases (Figure 1), which suggests that the models are reaching the limit of what is possible with the available 243 variables. Though there is almost certainly another combination of variables that would lead to further improvements in concordance, our approach allowed us to generate a series of models that perform well without the need to test every possible combination of the variables.</p>
<p>To choose variables to be included as non-randomized variables, we consulted the NHANES variables descriptions available on the <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/DataFiles.aspx">Centers for Disease Control (CDC) - National Center for Health Statistics (NCHS) website</a> and for the third iteration in particular we only considered variables that had p-values lower than 10<sup>-10</sup> (Figure 2; black horizontal line). It would be possible to introduce a threshold for hazard ratios (Figure 2; x-axis), but this approach would tend to select models without ridge penalties. The coefficients in ridge penalized models are shrunk based on the penalty that is applied, which in this case means that ridge penalized models have hazard ratios closer to zero. While the significance and hazard ratios of variables depend on the other variables in the model, our method allows us to survey the landscape of p-values and hazard ratios of variables in the models trained (Figure 2).</p>
<div class="figure">
<img src="img/2-volcano-final100dpi.png" alt="Predictor Variables from NHANES III Lethal Cancer Risk Prediction Models. Each point in the volcano plot represents a predictor variable (n = 98787) from a Cox proportional hazards model (n = 3789) trained on NHANES III data. Variables are considered to be highly significant when their negative log10 p-values (y-axis) are above 10 (black horizontal line), regardless of their log2 hazard ratios (x-axis). The shapes of points correspond to whether ridge penalties were applied (triangle) or not (circle). The colors of points describe the model each variable come from as in Figure 1." style="width:100.0%" />
<p class="caption"><strong>Predictor Variables from NHANES III Lethal Cancer Risk Prediction Models.</strong> Each point in the volcano plot represents a predictor variable (n = 98787) from a Cox proportional hazards model (n = 3789) trained on NHANES III data. Variables are considered to be highly significant when their negative log10 p-values (y-axis) are above 10 (black horizontal line), regardless of their log2 hazard ratios (x-axis). The shapes of points correspond to whether ridge penalties were applied (triangle) or not (circle). The colors of points describe the model each variable come from as in Figure 1.</p>
</div>
<p>The names, median hazard ratios, counts and descriptions of the ten most frequent highly significant variables are summarized in Table 1. The variable that appeared most frequently as highly significant across the all of the models was age (Figure 3; <code>HSAGEIR</code>). When focusing on the Group 1 models (Figure 3; Groups 1A-D; green, cyan, blue, purple), the most frequent highly significant variable was an interview question regarding dental health (Figure 3; <code>HAQ1</code>). The other top 10 high-frequency highly significant variables were race/ethnicity (<code>DMAETHNR</code>), lifetime consumption of more than 100 cigarettes (<code>HAR1</code>), 3 variables related to physical activity (<code>HAT2</code>, <code>HAT10</code>, <code>HAT16</code>), and 3 variables that may be associated to aging (<code>HAB7</code>, <code>HAK9</code>, and <code>HAP2</code>). Interestingly, one of the variables, “In the past 12 months, how many times were you in a nursing home?” (<code>HAB7</code>), was present as a highly significant variable only in the second and third groups.</p>
<div class="figure">
<img src="img/3-varbar-final100dpi.png" alt="The Ten Most Frequent, Highly Significant Predictor Variables. Each row in the table represents one of the ten predictor variables that appeared most frequently as highly significant (p &lt; 10-10) variables in the Cox models (n = 3789) trained on NHANES III data. The median hazard ratio (HR) and count (n) statistics are calculated on highly significant variables only. The variables descriptions are based on the documentation on the NHANES III website." style="width:100.0%" />
<p class="caption">The Ten Most Frequent, Highly Significant Predictor Variables. Each row in the table represents one of the ten predictor variables that appeared most frequently as highly significant (p &lt; 10<sup>-10</sup>) variables in the Cox models (n = 3789) trained on NHANES III data. The median hazard ratio (HR) and count (n) statistics are calculated on highly significant variables only. The variables descriptions are based on the <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/DataFiles.aspx">documentation on the NHANES III website</a>.</p>
</div>
<table>
<caption>Description of Highly Significant Variables that Appeared Most Frequently</caption>
<colgroup>
<col width="23%" />
<col width="26%" />
<col width="13%" />
<col width="36%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="right">Median HR</th>
<th align="right">n</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">HSAGEIR</td>
<td align="right">1.04</td>
<td align="right">2016</td>
<td align="left">Age in Years</td>
</tr>
<tr class="even">
<td align="left">HAQ1</td>
<td align="right">1.07</td>
<td align="right">1415</td>
<td align="left">How would you describe the condition of your natural teeth (excellent, very good, good, fair or poor)?</td>
</tr>
<tr class="odd">
<td align="left">HAT2</td>
<td align="right">1.50</td>
<td align="right">384</td>
<td align="left">In the past month, did you jog or run?</td>
</tr>
<tr class="even">
<td align="left">HAT16</td>
<td align="right">1.67</td>
<td align="right">256</td>
<td align="left">In the past month, did you lift weights?</td>
</tr>
<tr class="odd">
<td align="left">HAB7</td>
<td align="right">0.99</td>
<td align="right">228</td>
<td align="left">In the past 12 months, how many times were you in a nursing home?</td>
</tr>
<tr class="even">
<td align="left">DMAETHNR</td>
<td align="right">1.14</td>
<td align="right">224</td>
<td align="left">Race/Ethnicity</td>
</tr>
<tr class="odd">
<td align="left">HAK9</td>
<td align="right">1.23</td>
<td align="right">216</td>
<td align="left">How many times per night do you usually get up to urinate?</td>
</tr>
<tr class="even">
<td align="left">HAP2</td>
<td align="right">0.81</td>
<td align="right">179</td>
<td align="left">Do you use glasses, contacts, or both?</td>
</tr>
<tr class="odd">
<td align="left">HAT10</td>
<td align="right">1.43</td>
<td align="right">119</td>
<td align="left">In the past month, did you do other dancing?</td>
</tr>
<tr class="even">
<td align="left">HAR1</td>
<td align="right">0.63</td>
<td align="right">96</td>
<td align="left">Have you smoked at least 100 cigarettes during your entire life?</td>
</tr>
</tbody>
</table>
<p>The ranks of variables shown is Table 1 are determined by counts from all 3789 models, and thus are heavily influenced by the fact that some variables are included in all Group 2 (<code>HSAGEIR</code>, <code>DMAETHNR</code>, and <code>HSSEX</code>) and 3 models (<code>HSAGEIR</code>, <code>DMAETHNR</code>, <code>HSSEX</code>, <code>HAB1</code>, <code>HAR1</code>, <code>HAQ1</code>, <code>HAT2</code>, and <code>HAT10</code>). Table 1 therefore serves as a summary of all three iterations of modeling and statistical analysis. Rather than selecting the variables with the lowest p-values or highest hazard ratios, we chose to follow a strategy that counts the number of times a variable’s significance crosses a p-value threshold. This type of frequency-based ranking of variables can be used to both guide future variable selection decisions and assess previous steps in the model building process.</p>
</div>
<div id="discussion" class="section level2">
<h2><span class="header-section-number">0.5</span> Discussion</h2>
<p>To obtain a better understanding of how variables for cancer risk prediction models can be selected, we utilized an iterative strategy to explore the variables in the NHANES III dataset. As part of this strategy, we randomly generated a large number of Cox proportional hazards models to guide the training of new models with fewer randomly chosen variables in future iterations. This method is akin to forward subset selection <span class="citation">[37]</span> in that models are built up variable by variable, but differs in that models are not assessed with the addition of each new variable. In fact, the method we employed does not take model performance metrics into consideration when selecting variables. To inform variable selection in subsequent iterations, we instead focused on the frequency with which variables had p-values below 10<sup>-10</sup>.</p>
<p>The types of variables that were ranked highest in our present analysis (age, race/ethnicity, smoking and physical activity) are all already known to be strongly associated with cancer death. While obtaining the expected result serves to confirm the validity of our method, the main objective of this work is to provide insight that will lead to the identification of new cancer risk factors. To this end, our method will have to be refined to detect variables that weakly contribute to cancer risk or whose contribution is context-specific. In essence, our current approach aggregates information from across many models into a single statistic per variable. Variable selection decisions could be informed by another or a combination of other statistics.</p>
<p>For example, the significance threshold (p &lt; 10<sup>-10</sup>) we put in place was arbitrary and our method could be used with a different threshold value, a different metric or a combination of different thresholds. For example, variables could be selected based on the number of times the absolute value of their hazard ratio crosses a certain threshold. Model statistics could also be employed for thresholds as the concordance, Akaike Information Criterion (AIC) and other model performance metrics remain associated with variables throughout all steps in the process.</p>
<p>In addition to changing the variable selection threshold, the method described here could be adapted to use regularization techniques other than ridge regression <span class="citation">[26]</span> and models other than Cox proportional hazards models. In terms of regularization, survival analyses can be done with lasso <span class="citation">[38]</span> penalties or a combination of ridge and lasso penalties, which is known as Elastic Net <span class="citation">[39]</span>. As for possible modeling algorithms to explore in the future include tree-based models such as survival tree <span class="citation">[40]</span>, survival random forest models <span class="citation">[41]</span>. Tree-based models are easy to interpret and allow for the quantification of the proportion of variance explained by variables included in the model. Another statistical method called boosting, for example <code>XGBoost</code> <span class="citation">[42]</span>, can be used to compute F-scores representing the importance of each variable.</p>
<p>Regardless of the algorithms or thresholds used, the final result of our approach is a new dataset of statistics that describe models and variables across all iterations. This new dataset could be merged with text data, such as the <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/DataFiles.aspx">NHANES III variable descriptions provided by the National Center for Health Statistics</a>, and employ Natural Language Processing (NLP) <span class="citation">[43]</span> techniques to add further the information related to the models and variables in the dataset. For example, NLP techniques could be used to classify variables into categories, such as physical activity or nutrition, based on their descriptions. All of this information could then be combined with domain knowledge to steer the variable selection process.</p>
<p>We demonstrated the ability of our method to generate models that predict lethal cancer risk in the NHANES III dataset with high accuracy (<span class="math inline">\(concordance \geq 84\)</span>). It remains to be seen, whether our approach could be generalizable to other studies and other outcomes. NHANES III does not include cancer-type-specific mortality data, but other studies, such as the Atherosclerosis Risk in Communities study (ARIC) <span class="citation">[6, 8]</span>, may provide the opportunity to generate and assess models that predict mortality or incidence of a specific type of cancer. As a continuation of this project, we expand the methods described here into a general methodology that can be applied beyond NHANES III to other large, high-dimensional cohort studies. In addition to generalization to other studies, future work on this project will include the creation of a software package that encapsulates all of the relevant code and a graphical user interface that facilitates data exploration, model parameter modification and variable selection.</p>
</div>
<div id="connections-to-mph-goals-analysis" class="section level2">
<h2><span class="header-section-number">0.6</span> Connections to MPH Goals Analysis</h2>
<p>My MPH experience at Johns Hopkins has been absolutely transformative. Though I started my MPH studies with a strong background in science, I had no experience with public health or population science. Similarly, while I was comfortable with R programming, I did not know the first thing about survey data, let along how to conduct complex survey analyses in R. In my Goals Analysis Plan, I outlined my goal of broadening my horizons in three areas: substantive (domain) knowledge, statistics (mathematics), and technical (programming) skills. , is This NHANES III Research Report Capstone Project is testament to the skills I honed and the knowledge I gained over the past year and also perfectly aligns with my interests. I look forward to building upon this capstone project as continue my career in cancer prevention research.</p>
<p>In terms of substantive knowledge, I wanted to focus on cancer epidemiology</p>
</div>
<div id="references" class="section level2">
<h2><span class="header-section-number">0.7</span> References</h2>
<!--chapter:end:index.Rmd-->
<!--
This is for including Chapter 1.  Notice that it's also good practice to name your chunk.  This will help you debug potential issues as you knit.  The chunk above is called intro and the one below is called chapter1.  Feel free to change the name of the Rmd file as you wish, but don't forget to change it here from chap1.Rmd.
-->
<!--
The {#rmd-basics} text after the chapter declaration will allow us to link throughout the document back to the beginning of Chapter 1.  These labels will automatically be generated (if not specified) by changing the spaces to hyphens and capital letters to lowercase.  Look for the reference to this label at the beginning of Chapter 2.
-->
</div>
<div id="rmd-basics" class="section level1">
<h1><span class="header-section-number">1</span> R Markdown Basics</h1>
<p>Here is a brief introduction into using <em>R Markdown</em>. <em>Markdown</em> is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. <em>R Markdown</em> provides the flexibility of <em>Markdown</em> with the implementation of <strong>R</strong> input and output. For more details on using <em>R Markdown</em> see <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>.</p>
<p>Be careful with your spacing in <em>Markdown</em> documents. While whitespace largely is ignored, it does at times give <em>Markdown</em> signals as to how to proceed. As a habit, try to keep everything left aligned whenever possible, especially as you type a new paragraph. In other words, there is no need to indent basic text in the Rmd document (in fact, it might cause your text to do funny things if you do).</p>
<div id="lists" class="section level2">
<h2><span class="header-section-number">1.1</span> Lists</h2>
<p>It’s easy to create a list. It can be unordered like</p>
<ul>
<li>Item 1</li>
<li>Item 2</li>
</ul>
<p>or it can be ordered like</p>
<ol style="list-style-type: decimal">
<li>Item 1</li>
<li>Item 2</li>
</ol>
<p>Notice that I intentionally mislabeled Item 2 as number 4. <em>Markdown</em> automatically figures this out! You can put any numbers in the list and it will create the list. Check it out below.</p>
<p>To create a sublist, just indent the values a bit (at least four spaces or a tab). (Here’s one case where indentation is key!)</p>
<ol style="list-style-type: decimal">
<li>Item 1</li>
<li>Item 2</li>
<li>Item 3
<ul>
<li>Item 3a</li>
<li>Item 3b</li>
</ul></li>
</ol>
</div>
<div id="line-breaks" class="section level2">
<h2><span class="header-section-number">1.2</span> Line breaks</h2>
<p>Make sure to add white space between lines if you’d like to start a new paragraph. Look at what happens below in the outputted document if you don’t:</p>
<p>Here is the first sentence. Here is another sentence. Here is the last sentence to end the paragraph.
This should be a new paragraph.</p>
<p><em>Now for the correct way:</em></p>
<p>Here is the first sentence. Here is another sentence. Here is the last sentence to end the paragraph.</p>
<p>This should be a new paragraph.</p>
</div>
<div id="r-chunks" class="section level2">
<h2><span class="header-section-number">1.3</span> R chunks</h2>
<p>When you click the <strong>Knit</strong> button above a document will be generated that includes both content as well as the output of any embedded <strong>R</strong> code chunks within the document. You can embed an <strong>R</strong> code chunk like this (<code>cars</code> is a built-in <strong>R</strong> dataset):</p>
<pre><code>     speed           dist       
 Min.   : 4.0   Min.   :  2.00  
 1st Qu.:12.0   1st Qu.: 26.00  
 Median :15.0   Median : 36.00  
 Mean   :15.4   Mean   : 42.98  
 3rd Qu.:19.0   3rd Qu.: 56.00  
 Max.   :25.0   Max.   :120.00  </code></pre>
</div>
<div id="inline-code" class="section level2">
<h2><span class="header-section-number">1.4</span> Inline code</h2>
<p>If you’d like to put the results of your analysis directly into your discussion, add inline code like this:</p>
<blockquote>
<p>The <code>cos</code> of <span class="math inline">\(2 \pi\)</span> is 1.</p>
</blockquote>
<p>Another example would be the direct calculation of the standard deviation:</p>
<blockquote>
<p>The standard deviation of <code>speed</code> in <code>cars</code> is 5.2876444.</p>
</blockquote>
<p>One last neat feature is the use of the <code>ifelse</code> conditional statement which can be used to output text depending on the result of an <strong>R</strong> calculation:</p>
<blockquote>
<p>The standard deviation is less than 6.</p>
</blockquote>
<p>Note the use of <code>&gt;</code> here, which signifies a quotation environment that will be indented.</p>
<p>As you see with <code>$2 \pi$</code> above, mathematics can be added by surrounding the mathematical text with dollar signs. More examples of this are in <a href="#math-sci">Mathematics and Science</a> if you uncomment the code in <a href="#math">Math</a>.</p>
</div>
<div id="including-plots" class="section level2">
<h2><span class="header-section-number">1.5</span> Including plots</h2>
<p>You can also embed plots. For example, here is a way to use the base <strong>R</strong> graphics package to produce a plot using the built-in <code>pressure</code> dataset:</p>
<p><img src="thesis_files/figure-html/pressure-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Note that the <code>echo=FALSE</code> parameter was added to the code chunk to prevent printing of the <strong>R</strong> code that generated the plot. There are plenty of other ways to add chunk options. More information is available at <a href="http://yihui.name/knitr/options/" class="uri">http://yihui.name/knitr/options/</a>.</p>
<p>Another useful chunk option is the setting of <code>cache=TRUE</code> as you see here. If document rendering becomes time consuming due to long computations or plots that are expensive to generate you can use knitr caching to improve performance. Later in this file, you’ll see a way to reference plots created in <strong>R</strong> or external figures.</p>
</div>
<div id="loading-and-exploring-data" class="section level2">
<h2><span class="header-section-number">1.6</span> Loading and exploring data</h2>
<p>Included in this template is a file called <code>flights.csv</code>. This file includes a subset of the larger dataset of information about all flights that departed from Seattle and Portland in 2014. More information about this dataset and its <strong>R</strong> package is available at <a href="http://github.com/ismayc/pnwflights14" class="uri">http://github.com/ismayc/pnwflights14</a>. This subset includes only Portland flights and only rows that were complete with no missing values. Merges were also done with the <code>airports</code> and <code>airlines</code> data sets in the <code>pnwflights14</code> package to get more descriptive airport and airline names.</p>
<p>We can load in this data set using the following command:</p>
<p>The data is now stored in the data frame called <code>flights</code> in <strong>R</strong>. To get a better feel for the variables included in this dataset we can use a variety of functions. Here we can see the dimensions (rows by columns) and also the names of the columns.</p>
<pre><code>[1] 52808    16</code></pre>
<pre><code> [1] &quot;month&quot;        &quot;day&quot;          &quot;dep_time&quot;     &quot;dep_delay&quot;   
 [5] &quot;arr_time&quot;     &quot;arr_delay&quot;    &quot;carrier&quot;      &quot;tailnum&quot;     
 [9] &quot;flight&quot;       &quot;dest&quot;         &quot;air_time&quot;     &quot;distance&quot;    
[13] &quot;hour&quot;         &quot;minute&quot;       &quot;carrier_name&quot; &quot;dest_name&quot;   </code></pre>
<p>Another good idea is to take a look at the dataset in table form. With this dataset having more than 50,000 rows, we won’t explicitly show the results of the command here. I recommend you enter the command into the Console <strong><em>after</em></strong> you have run the <strong>R</strong> chunks above to load the data into <strong>R</strong>.</p>
<p>While not required, it is highly recommended you use the <code>dplyr</code> package to manipulate and summarize your data set as needed. It uses a syntax that is easy to understand using chaining operations. Below I’ve created a few examples of using <code>dplyr</code> to get information about the Portland flights in 2014. You will also see the use of the <code>ggplot2</code> package, which produces beautiful, high-quality academic visuals.</p>
<p>We begin by checking to ensure that needed packages are installed and then we load them into our current working environment:</p>

<p>The example we show here does the following:</p>
<ul>
<li><p>Selects only the <code>carrier_name</code> and <code>arr_delay</code> from the <code>flights</code> dataset and then assigns this subset to a new variable called <code>flights2</code>.</p></li>
<li><p>Using <code>flights2</code>, we determine the largest arrival delay for each of the carriers.</p></li>
</ul>
<p>A useful function in the <code>knitr</code> package for making nice tables in <em>R Markdown</em> is called <code>kable</code>. It is much easier to use than manually entering values into a table by copying and pasting values into Excel or LaTeX. This again goes to show how nice reproducible documents can be! (Note the use of <code>results=&quot;asis&quot;</code>, which will produce the table instead of the code to create the table.) The <code>caption.short</code> argument is used to include a shorter title to appear in the List of Tables.</p>
<table>
<caption>(#tab:maxdelays)Maximum Delays by Airline</caption>
<thead>
<tr class="header">
<th align="left">Airline</th>
<th align="right">Max Arrival Delay</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Alaska Airlines Inc.</td>
<td align="right">338</td>
</tr>
<tr class="even">
<td align="left">American Airlines Inc.</td>
<td align="right">1539</td>
</tr>
<tr class="odd">
<td align="left">Delta Air Lines Inc.</td>
<td align="right">651</td>
</tr>
<tr class="even">
<td align="left">Frontier Airlines Inc.</td>
<td align="right">575</td>
</tr>
<tr class="odd">
<td align="left">Hawaiian Airlines Inc.</td>
<td align="right">407</td>
</tr>
<tr class="even">
<td align="left">JetBlue Airways</td>
<td align="right">273</td>
</tr>
<tr class="odd">
<td align="left">SkyWest Airlines Inc.</td>
<td align="right">421</td>
</tr>
<tr class="even">
<td align="left">Southwest Airlines Co.</td>
<td align="right">694</td>
</tr>
<tr class="odd">
<td align="left">United Air Lines Inc.</td>
<td align="right">472</td>
</tr>
<tr class="even">
<td align="left">US Airways Inc.</td>
<td align="right">347</td>
</tr>
<tr class="odd">
<td align="left">Virgin America</td>
<td align="right">366</td>
</tr>
</tbody>
</table>
<p>The last two options make the table a little easier-to-read.</p>
<p>We can further look into the properties of the largest value here for American Airlines Inc. To do so, we can isolate the row corresponding to the arrival delay of 1539 minutes for American in our original <code>flights</code> dataset.</p>
<pre><code>  dep_time dep_delay arr_time tailnum flight dest air_time distance
1     1403      1553     1934  N595AA   1568  DFW      182     1616</code></pre>
<p>We see that the flight occurred on March 3rd and departed a little after 2 PM on its way to Dallas/Fort Worth. Lastly, we show how we can visualize the arrival delay of all departing flights from Portland on March 3rd against time of departure.</p>
<p><img src="thesis_files/figure-html/march3plot-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="additional-resources" class="section level2">
<h2><span class="header-section-number">1.7</span> Additional resources</h2>
<ul>
<li><p><em>Markdown</em> Cheatsheet - <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" class="uri">https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet</a></p></li>
<li><p><em>R Markdown</em> Reference Guide - <a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf</a></p></li>
<li><p>Introduction to <code>dplyr</code> - <a href="https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html" class="uri">https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html</a></p></li>
<li><p><code>ggplot2</code> Documentation - <a href="http://docs.ggplot2.org/current/" class="uri">http://docs.ggplot2.org/current/</a></p></li>
</ul>
<!--chapter:end:01-chap1.Rmd-->
</div>
</div>
<div id="math-sci" class="section level1">
<h1><span class="header-section-number">2</span> Mathematics and Science</h1>
<!-- Required to number equations in HTML files -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<div id="math" class="section level2">
<h2><span class="header-section-number">2.1</span> Math</h2>
<p> is the best way to typeset mathematics. Donald Knuth designed  when he got frustrated at how long it was taking the typesetters to finish his book, which contained a lot of mathematics. One nice feature of <em>R Markdown</em> is its ability to read LaTeX code directly.</p>
<p>If you are doing a thesis that will involve lots of math, you will want to read the following section which has been commented out. If you’re not going to use math, skip over or delete this next commented section.</p>
<!-- MATH and PHYSICS majors: Uncomment the following section -->
<!--
$$\sum_{j=1}^n (\delta\theta_j)^2 \leq {{\beta_i^2}\over{\delta_i^2 + \rho_i^2}}
\left[ 2\rho_i^2 + {\delta_i^2\beta_i^2\over{\delta_i^2 + \rho_i^2}} \right] \equiv \omega_i^2
$$

From Informational Dynamics, we have the following (Dave Braden):

After _n_ such encounters the posterior density for $\theta$ is

$$
\pi(\theta|X_1< y_1,\dots,X_n<y_n) \varpropto \pi(\theta) \prod_{i=1}^n\int_{-\infty}^{y_i}
   \exp\left(-{(x-\theta)^2\over{2\sigma^2}}\right)\ dx
$$

Another equation:

$$\det\left|\,\begin{matrix}%
c_0&c_1\hfill&c_2\hfill&\ldots&c_n\hfill\cr
c_1&c_2\hfill&c_3\hfill&\ldots&c_{n+1}\hfill\cr
c_2&c_3\hfill&c_4\hfill&\ldots&c_{n+2}\hfill\cr
\,\vdots\hfill&\,\vdots\hfill&
  \,\vdots\hfill&&\,\vdots\hfill\cr
c_n&c_{n+1}\hfill&c_{n+2}\hfill&\ldots&c_{2n}\hfill\cr
\end{matrix}\right|>0$$


Lapidus and Pindar, Numerical Solution of Partial Differential Equations in Science and
Engineering.  Page 54

$$
\int_t\left\{\sum_{j=1}^3 T_j \left({d\phi_j\over dt}+k\phi_j\right)-kT_e\right\}w_i(t)\ dt=0,
   \qquad\quad i=1,2,3.
$$

L\&P  Galerkin method weighting functions.  Page 55

$$
\sum_{j=1}^3 T_j\int_0^1\left\{{d\phi_j\over dt} + k\phi_j\right\} \phi_i\ dt
   = \int_{0}^1k\,T_e\phi_idt, \qquad i=1,2,3 $$

Another L\&P (p145)

$$
\int_{-1}^1\!\int_{-1}^1\!\int_{-1}^1 f\big(\xi,\eta,\zeta\big)
   = \sum_{k=1}^n\sum_{j=1}^n\sum_{i=1}^n w_i w_j w_k f\big( \xi,\eta,\zeta\big).
$$

Another L\&P (p126)

$$
\int_{A_e} (\,\cdot\,) dx dy = \int_{-1}^1\!\int_{-1}^1 (\,\cdot\,) \det[J] d\xi d\eta.
$$
-->
</div>
<div id="chemistry-101-symbols" class="section level2">
<h2><span class="header-section-number">2.2</span> Chemistry 101: Symbols</h2>
<p>Chemical formulas will look best if they are not italicized. Get around math mode’s automatic italicizing in LaTeX by using the argument <code>$\mathrm{formula here}$</code>, with your formula inside the curly brackets. (Notice the use of the backticks here which enclose text that acts as code.)</p>
<p>So, <span class="math inline">\(\mathrm{Fe_2^{2+}Cr_2O_4}\)</span> is written <code>$\mathrm{Fe_2^{2+}Cr_2O_4}$</code>.</p>
<!--
The \noindent command below does what you'd expect:  it forces the current line/paragraph to not indent. This was done here to match the format of the LaTeX thesis PDF.
-->
<p>Exponent or Superscript: <span class="math inline">\(\mathrm{O^-}\)</span></p>
<p>Subscript: <span class="math inline">\(\mathrm{CH_4}\)</span></p>
<p>To stack numbers or letters as in <span class="math inline">\(\mathrm{Fe_2^{2+}}\)</span>, the subscript is defined first, and then the superscript is defined.</p>
<p>Bullet: CuCl <span class="math inline">\(\bullet\)</span> <span class="math inline">\(\mathrm{7H_{2}O}\)</span></p>
<p>Delta: <span class="math inline">\(\Delta\)</span></p>
<p>Reaction Arrows: <span class="math inline">\(\longrightarrow\)</span> or <span class="math inline">\(\xrightarrow{solution}\)</span></p>
<p>Resonance Arrows: <span class="math inline">\(\leftrightarrow\)</span></p>
<p>Reversible Reaction Arrows: <span class="math inline">\(\rightleftharpoons\)</span></p>
<div id="typesetting-reactions" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Typesetting reactions</h3>
<p>You may wish to put your reaction in an equation environment, which means that LaTeX will place the reaction where it fits and will number the equations for you.</p>
<span class="math display">\[\begin{equation}
  \mathrm{C_6H_{12}O_6  + 6O_2} \longrightarrow \mathrm{6CO_2 + 6H_2O}
  (\#eq:reaction)
\end{equation}\]</span>
<p>We can reference this combustion of glucose reaction via Equation @ref(eq:reaction).</p>
</div>
<div id="other-examples-of-reactions" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Other examples of reactions</h3>
<p><span class="math inline">\(\mathrm{NH_4Cl_{(s)}}\)</span> <span class="math inline">\(\rightleftharpoons\)</span> <span class="math inline">\(\mathrm{NH_{3(g)}+HCl_{(g)}}\)</span></p>
<p><span class="math inline">\(\mathrm{MeCH_2Br + Mg}\)</span> <span class="math inline">\(\xrightarrow[below]{above}\)</span> <span class="math inline">\(\mathrm{MeCH_2\bullet Mg \bullet Br}\)</span></p>
</div>
</div>
<div id="physics" class="section level2">
<h2><span class="header-section-number">2.3</span> Physics</h2>
<p>Many of the symbols you will need can be found on the math page <a href="http://web.reed.edu/cis/help/latex/math.html" class="uri">http://web.reed.edu/cis/help/latex/math.html</a> and the Comprehensive LaTeX Symbol Guide (<a href="http://mirror.utexas.edu/ctan/info/symbols/comprehensive/symbols-letter.pdf" class="uri">http://mirror.utexas.edu/ctan/info/symbols/comprehensive/symbols-letter.pdf</a>).</p>
</div>
<div id="biology" class="section level2">
<h2><span class="header-section-number">2.4</span> Biology</h2>
<p>You will probably find the resources at <a href="http://www.lecb.ncifcrf.gov/~toms/latex.html" class="uri">http://www.lecb.ncifcrf.gov/~toms/latex.html</a> helpful, particularly the links to bsts for various journals. You may also be interested in TeXShade for nucleotide typesetting (<a href="http://homepages.uni-tuebingen.de/beitz/txe.html" class="uri">http://homepages.uni-tuebingen.de/beitz/txe.html</a>). Be sure to read the proceeding chapter on graphics and tables.</p>
<!--chapter:end:02-chap2.Rmd-->
</div>
</div>
<div id="ref-labels" class="section level1">
<h1><span class="header-section-number">3</span> Tables, Graphics, References, and Labels</h1>
<div id="tables" class="section level2">
<h2><span class="header-section-number">3.1</span> Tables</h2>
<p>In addition to the tables that can be automatically generated from a data frame in <strong>R</strong> that you saw in <a href="#rmd-basics">R Markdown Basics</a> using the <code>kable</code> function, you can also create tables using <em>pandoc</em>. (More information is available at <a href="http://pandoc.org/README.html#tables" class="uri">http://pandoc.org/README.html#tables</a>.) This might be useful if you don’t have values specifically stored in <strong>R</strong>, but you’d like to display them in table form. Below is an example. Pay careful attention to the alignment in the table and hyphens to create the rows and columns.</p>
<table>
<caption>(#tab:inher) Correlation of Inheritance Factors for Parents and Child</caption>
<colgroup>
<col width="31%" />
<col width="51%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Factors</th>
<th align="center">Correlation between Parents &amp; Child</th>
<th align="center">Inherited</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Education</td>
<td align="center">-0.49</td>
<td align="center">Yes</td>
</tr>
<tr class="even">
<td align="center">Socio-Economic Status</td>
<td align="center">0.28</td>
<td align="center">Slight</td>
</tr>
<tr class="odd">
<td align="center">Income</td>
<td align="center">0.08</td>
<td align="center">No</td>
</tr>
<tr class="even">
<td align="center">Family Size</td>
<td align="center">0.18</td>
<td align="center">Slight</td>
</tr>
<tr class="odd">
<td align="center">Occupational Prestige</td>
<td align="center">0.21</td>
<td align="center">Slight</td>
</tr>
</tbody>
</table>
<p>We can also create a link to the table by doing the following: Table @ref(tab:inher). If you go back to <a href="#loading-and-exploring-data">Loading and exploring data</a> and look at the <code>kable</code> table, we can create a reference to this max delays table too: Table @ref(tab:maxdelays). The addition of the <code>(\#tab:inher)</code> option to the end of the table caption allows us to then make a reference to Table <code>\@ref(tab:label)</code>. Note that this reference could appear anywhere throughout the document after the table has appeared.</p>
<!-- We will next explore ways to create this label-ref link using figures. -->

<!-- clearpage ends the page, and also dumps out all floats.
  Floats are things like tables and figures. -->
</div>
<div id="figures" class="section level2">
<h2><span class="header-section-number">3.2</span> Figures</h2>
<p>If your thesis has a lot of figures, <em>R Markdown</em> might behave better for you than that other word processor. One perk is that it will automatically number the figures accordingly in each chapter. You’ll also be able to create a label for each figure, add a caption, and then reference the figure in a way similar to what we saw with tables earlier. If you label your figures, you can move the figures around and <em>R Markdown</em> will automatically adjust the numbering for you. No need for you to remember! So that you don’t have to get too far into LaTeX to do this, a couple <strong>R</strong> functions have been created for you to assist. You’ll see their use below.</p>
<!--
One thing that may be annoying is the way _R Markdown_ handles "floats" like tables and figures (it's really \LaTeX's fault). \LaTeX\ will try to find the best place to put your object based on the text around it and until you're really, truly done writing you should just leave it where it lies. There are some optional arguments specified in the options parameter of the `label` function.  If you need to shift your figure around, it might be good to look here on tweaking the options argument:  <https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions>

If you need a graphic or tabular material to be part of the text, you can just put it inline. If you need it to appear in the list of figures or tables, it should be placed in a code chunk.
-->
<p>In the <strong>R</strong> chunk below, we will load in a picture stored as <code>reed.jpg</code> in our main directory. We then give it the caption of “Reed logo”, the label of “reedlogo”, and specify that this is a figure. Make note of the different <strong>R</strong> chunk options that are given in the R Markdown file (not shown in the knitted document).</p>
<div class="figure" style="text-align: center">
<img src="figure/reed.jpg" alt="Reed logo"  />
<p class="caption">
(#fig:reedlogo)Reed logo
</p>
</div>
<p>Here is a reference to the Reed logo: Figure @ref(fig:reedlogo). Note the use of the <code>fig:</code> code here. By naming the <strong>R</strong> chunk that contains the figure, we can then reference that figure later as done in the first sentence here. We can also specify the caption for the figure via the R chunk option <code>fig.cap</code>.</p>

<!-- starts a new page and stops trying to place floats such as tables and figures -->
<p>Below we will investigate how to save the output of an <strong>R</strong> plot and label it in a way similar to that done above. Recall the <code>flights</code> dataset from Chapter @ref(rmd-basics). (Note that we’ve shown a different way to reference a section or chapter here.) We will next explore a bar graph with the mean flight departure delays by airline from Portland for 2014. Note also the use of the <code>scale</code> parameter which is discussed on the next page.</p>
<div class="figure" style="text-align: center">
<img src="thesis_files/figure-html/delaysboxplot-1.png" alt="Mean Delays by Airline" width="576" />
<p class="caption">
(#fig:delaysboxplot)Mean Delays by Airline
</p>
</div>
<p>Here is a reference to this image: Figure @ref(fig:delaysboxplot).</p>
<p>A table linking these carrier codes to airline names is available at <a href="https://github.com/ismayc/pnwflights14/blob/master/data/airlines.csv" class="uri">https://github.com/ismayc/pnwflights14/blob/master/data/airlines.csv</a>.</p>

<p>Next, we will explore the use of the <code>out.extra</code> chunk option, which can be used to shrink or expand an image loaded from a file by specifying <code>&quot;scale= &quot;</code>. Here we use the mathematical graph stored in the “subdivision.pdf” file.</p>
<div class="figure" style="text-align: center">
<img src="figure/subdivision.pdf" alt="Subdiv. graph" scale=0.75 />
<p class="caption">
(#fig:subd)Subdiv. graph
</p>
</div>
<p>Here is a reference to this image: Figure @ref(fig:subd). Note that <code>echo=FALSE</code> is specified so that the <strong>R</strong> code is hidden in the document.</p>
<p><strong>More Figure Stuff</strong></p>
<p>Lastly, we will explore how to rotate and enlarge figures using the <code>out.extra</code> chunk option. (Currently this only works in the PDF version of the book.)</p>
<div class="figure" style="text-align: center">
<img src="figure/subdivision.pdf" alt="A Larger Figure, Flipped Upside Down" angle=180, scale=1.1 />
<p class="caption">
(#fig:subd2)A Larger Figure, Flipped Upside Down
</p>
</div>
<p>As another example, here is a reference: Figure @ref(fig:subd2).</p>
</div>
<div id="footnotes-and-endnotes" class="section level2">
<h2><span class="header-section-number">3.3</span> Footnotes and Endnotes</h2>
<p>You might want to footnote something.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> The footnote will be in a smaller font and placed appropriately. Endnotes work in much the same way. More information can be found about both on the CUS site or feel free to reach out to <a href="mailto:data@reed.edu">data@reed.edu</a>.</p>
</div>
<div id="bibliographies" class="section level2">
<h2><span class="header-section-number">3.4</span> Bibliographies</h2>
<p>Of course you will need to cite things, and you will probably accumulate an armful of sources. There are a variety of tools available for creating a bibliography database (stored with the .bib extension). In addition to BibTeX suggested below, you may want to consider using the free and easy-to-use tool called Zotero. The Reed librarians have created Zotero documentation at <a href="http://libguides.reed.edu/citation/zotero" class="uri">http://libguides.reed.edu/citation/zotero</a>. In addition, a tutorial is available from Middlebury College at <a href="http://sites.middlebury.edu/zoteromiddlebury/" class="uri">http://sites.middlebury.edu/zoteromiddlebury/</a>.</p>
<p><em>R Markdown</em> uses <em>pandoc</em> (<a href="http://pandoc.org/" class="uri">http://pandoc.org/</a>) to build its bibliographies. One nice caveat of this is that you won’t have to do a second compile to load in references as standard LaTeX requires. To cite references in your thesis (after creating your bibliography database), place the reference name inside square brackets and precede it by the “at” symbol. For example, here’s a reference to a book about worrying: <span class="citation">[<span class="citeproc-not-found" data-reference-id="Molina1994"><strong>???</strong></span>]</span>. This <code>Molina1994</code> entry appears in a file called <code>thesis.bib</code> in the <code>bib</code> folder. This bibliography database file was created by a program called BibTeX. You can call this file something else if you like (look at the YAML header in the main .Rmd file) and, by default, is to placed in the <code>bib</code> folder.</p>
<p>For more information about BibTeX and bibliographies, see our CUS site (<a href="http://web.reed.edu/cis/help/latex/index.html" class="uri">http://web.reed.edu/cis/help/latex/index.html</a>)<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. There are three pages on this topic: <em>bibtex</em> (which talks about using BibTeX, at <a href="http://web.reed.edu/cis/help/latex/bibtex.html" class="uri">http://web.reed.edu/cis/help/latex/bibtex.html</a>), <em>bibtexstyles</em> (about how to find and use the bibliography style that best suits your needs, at <a href="http://web.reed.edu/cis/help/latex/bibtexstyles.html" class="uri">http://web.reed.edu/cis/help/latex/bibtexstyles.html</a>) and <em>bibman</em> (which covers how to make and maintain a bibliography by hand, without BibTeX, at <a href="http://web.reed.edu/cis/help/latex/bibman.html" class="uri">http://web.reed.edu/cis/help/latex/bibman.html</a>). The last page will not be useful unless you have only a few sources.</p>
<p>If you look at the YAML header at the top of the main .Rmd file you can see that we can specify the style of the bibliography by referencing the appropriate csl file. You can download a variety of different style files at <a href="https://www.zotero.org/styles" class="uri">https://www.zotero.org/styles</a>. Make sure to download the file into the csl folder.</p>
<p><strong>Tips for Bibliographies</strong></p>
<ul>
<li>Like with thesis formatting, the sooner you start compiling your bibliography for something as large as thesis, the better. Typing in source after source is mind-numbing enough; do you really want to do it for hours on end in late April? Think of it as procrastination.</li>
<li>The cite key (a citation’s label) needs to be unique from the other entries.</li>
<li>When you have more than one author or editor, you need to separate each author’s name by the word “and” e.g. <code>Author = {Noble, Sam and Youngberg, Jessica},</code>.</li>
<li>Bibliographies made using BibTeX (whether manually or using a manager) accept LaTeX markup, so you can italicize and add symbols as necessary.</li>
<li>To force capitalization in an article title or where all lowercase is generally used, bracket the capital letter in curly braces.</li>
<li>You can add a Reed Thesis citation<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> option. The best way to do this is to use the phdthesis type of citation, and use the optional “type” field to enter “Reed thesis” or “Undergraduate thesis.”</li>
</ul>
</div>
<div id="anything-else" class="section level2">
<h2><span class="header-section-number">3.5</span> Anything else?</h2>
<p>If you’d like to see examples of other things in this template, please contact the Data @ Reed team (email <a href="mailto:data@reed.edu">data@reed.edu</a>) with your suggestions. We love to see people using <em>R Markdown</em> for their theses, and are happy to help.</p>
<!--chapter:end:03-chap3.Rmd-->
</div>
</div>
<div id="conclusion" class="section level1 unnumbered">
<h1>Conclusion</h1>
<p>If we don’t want Conclusion to have a chapter number next to it, we can add the <code>{-}</code> attribute.</p>
<p><strong>More info</strong></p>
<p>And here’s some other random info: the first paragraph after a chapter title or section head <em>shouldn’t be</em> indented, because indents are to tell the reader that you’re starting a new paragraph. Since that’s obvious after a chapter or section title, proper typesetting doesn’t add an indent there.</p>
<!--chapter:end:04-conclusion.Rmd-->
</div>
<div id="appendix-appendix" class="section level1 unnumbered">
<h1>(APPENDIX) Appendix</h1>
<!--
If you feel it necessary to include an appendix, it goes here.
-->
</div>
<div id="the-first-appendix" class="section level1">
<h1><span class="header-section-number">4</span> The First Appendix</h1>
<p>This first appendix includes all of the R chunks of code that were hidden throughout the document (using the <code>include = FALSE</code> chunk tag) to help with readibility and/or setup.</p>
<p><strong>In the main Rmd file</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># This chunk ensures that the thesisdown package is</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># installed and loaded. This thesisdown package includes</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># the template files for the thesis.</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(devtools))</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;http://cran.rstudio.com&quot;</span>)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(thesisdown))</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;ismayc/thesisdown&quot;</span>)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw">library</span>(thesisdown)</a></code></pre></div>
<p><strong>In Chapter @ref(ref-labels):</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># This chunk ensures that the thesisdown package is</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co"># installed and loaded. This thesisdown package includes</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co"># the template files for the thesis and also two functions</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co"># used for labeling and referencing</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(devtools))</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  <span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;http://cran.rstudio.com&quot;</span>)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(dplyr))</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">    <span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;http://cran.rstudio.com&quot;</span>)</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(ggplot2))</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">    <span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;http://cran.rstudio.com&quot;</span>)</a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(ggplot2))</a>
<a class="sourceLine" id="cb6-12" data-line-number="12">    <span class="kw">install.packages</span>(<span class="st">&quot;bookdown&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;http://cran.rstudio.com&quot;</span>)</a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(thesisdown)){</a>
<a class="sourceLine" id="cb6-14" data-line-number="14">  <span class="kw">library</span>(devtools)</a>
<a class="sourceLine" id="cb6-15" data-line-number="15">  devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;ismayc/thesisdown&quot;</span>)</a>
<a class="sourceLine" id="cb6-16" data-line-number="16">  }</a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="kw">library</span>(thesisdown)</a>
<a class="sourceLine" id="cb6-18" data-line-number="18">flights &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/flights.csv&quot;</span>)</a></code></pre></div>
</div>
<div id="the-second-appendix-for-fun" class="section level1">
<h1><span class="header-section-number">5</span> The Second Appendix, for Fun</h1>
<!--chapter:end:05-appendix.Rmd-->
<!--
The bib chunk below must go last in this document according to how R Markdown renders.  More info is at http://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html
-->

<!-- 
If you'd like to change the name of the bibliography to something else,
delete "References" and replace it.
-->
</div>
<div id="references-1" class="section level1 unnumbered">
<h1>References</h1>
<!--
This manually sets the header for this unnumbered chapter.
-->

<!--
To remove the indentation of the first entry.
-->

<!--
To create a hanging indent and spacing between entries.  These three lines may need to be removed for styles that don't require the hanging indent.
-->

<!--
This is just for testing with more citations for the bibliography at the end.  Add other entries into the list here if you'd like them to appear in the bibliography even if they weren't explicitly cited in the document.
-->
<!--chapter:end:99-references.Rmd-->
<div id="refs" class="references">
<div id="ref-Islami_2018">
<p>1. Islami F, Sauer AG, Miller KD, Siegel RL, Fedewa SA, Jacobs EJ, et al. Proportion and number of cancer cases and deaths attributable to potentially modifiable risk factors in the united states. CA: A Cancer Journal for Clinicians. 2018;68:31–54. doi:<a href="https://doi.org/10.3322/caac.21440">10.3322/caac.21440</a>.</p>
</div>
<div id="ref-Siegel_2018">
<p>2. Siegel RL, Miller KD, Jemal A. Cancer statistics, 2018. CA: A Cancer Journal for Clinicians. 2018;68:7–30. doi:<a href="https://doi.org/10.3322/caac.21442">10.3322/caac.21442</a>.</p>
</div>
<div id="ref-Maas_2016">
<p>3. Maas P, Barrdahl M, Joshi AD, Auer PL, Gaudet MM, Milne RL, et al. Breast cancer risk from modifiable and nonmodifiable risk factors among white women in the united states. JAMA Oncology. 2016;2:1295. doi:<a href="https://doi.org/10.1001/jamaoncol.2016.1025">10.1001/jamaoncol.2016.1025</a>.</p>
</div>
<div id="ref-Wild_2005">
<p>4. Wild CP. Complementing the genome with an &quot;exposome&quot;: The outstanding challenge of environmental exposure measurement in molecular epidemiology. Cancer Epidemiology Biomarkers &amp; Prevention. 2005;14:1847–50. doi:<a href="https://doi.org/10.1158/1055-9965.epi-05-0456">10.1158/1055-9965.epi-05-0456</a>.</p>
</div>
<div id="ref-nhanes_1994">
<p>5. National Center for Health Statistics (NCHS), others. Plan and operation of the third national health and nutrition examination survey, 1988-94. Series 1: Programs and collection procedures. Vital Health Statistics, Series 1. 1994;32:1–407.</p>
</div>
<div id="ref-ARIC_1989">
<p>6. THE ATHEROSCLEROSIS RISK IN COMMUNITIES (ARIC) STUDY: DESIGN AND OBJECTIVES. American Journal of Epidemiology. 1989;129:687–702. doi:<a href="https://doi.org/10.1093/oxfordjournals.aje.a115184">10.1093/oxfordjournals.aje.a115184</a>.</p>
</div>
<div id="ref-Mahmood_2014">
<p>7. Mahmood SS, Levy D, Vasan RS, Wang TJ. The Framingham Heart Study and the epidemiology of cardiovascular disease: A historical perspective. The Lancet. 2014;383:999–1008. doi:<a href="https://doi.org/10.1016/S0140-6736(13)61752-3">10.1016/S0140-6736(13)61752-3</a>.</p>
</div>
<div id="ref-Joshu_2017">
<p>8. Joshu CE, Barber JR, Coresh J, Couper DJ, Mosley TH, Vitolins MZ, et al. Enhancing the infrastructure of the atherosclerosis risk in communities (ARIC) study for cancer epidemiology research: ARIC cancer. Cancer Epidemiology Biomarkers &amp; Prevention. 2017;27:295–305. doi:<a href="https://doi.org/10.1158/1055-9965.epi-17-0696">10.1158/1055-9965.epi-17-0696</a>.</p>
</div>
<div id="ref-Freedman_2010">
<p>9. Freedman DM, Looker AC, Abnet CC, Linet MS, Graubard BI. Serum 25-Hydroxyvitamin D and Cancer Mortality in the NHANES III Study (1988–2006). Cancer Research. 2010;70:8587–97. doi:<a href="https://doi.org/10.1158/0008-5472.CAN-10-1420">10.1158/0008-5472.CAN-10-1420</a>.</p>
</div>
<div id="ref-Kreger_1991">
<p>10. Kreger BE, Splansky GL, Schatzkin A. The cancer experience in the framingham heart study cohort. Cancer. 1991;67:1–6. doi:<a href="https://doi.org/10.1002/1097-0142(19910101)67:1&lt;1::AID-CNCR2820670102&gt;3.0.CO;2-W">10.1002/1097-0142(19910101)67:1&lt;1::AID-CNCR2820670102&gt;3.0.CO;2-W</a>.</p>
</div>
<div id="ref-Therneau_2000">
<p>11. Terry M. Therneau, Patricia M. Grambsch. Modeling survival data: Extending the Cox model. New York: Springer; 2000.</p>
</div>
<div id="ref-Kluyver_2016">
<p>12. Kluyver T, Ragan-Kelley B, Pérez F, Granger BE, Bussonnier M, Frederic J, et al. Jupyter notebooks-a publishing format for reproducible computational workflows. In: ELPUB. 2016. pp. 87–90.</p>
</div>
<div id="ref-Perez_2007">
<p>13. Pérez F, Granger BE. IPython: A System for Interactive Scientific Computing. Computing in Science &amp; Engineering. 2007;9:21–9.</p>
</div>
<div id="ref-python_2003">
<p>14. Van Rossum G, Drake FL. Python language reference manual. Network Theory; 2003.</p>
</div>
<div id="ref-Torvalds_2001">
<p>15. Torvalds L, Diamond D. Just for fun: The story of an accidental revolutionary. Harper Business; 2001.</p>
</div>
<div id="ref-Rcore_2018">
<p>16. R Core Team. R: A language and environment for statistical computing. Vienna, Austria: R Foundation for Statistical Computing; 2018. <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
</div>
<div id="ref-readr_2017">
<p>17. Wickham H, Hester J, Francois R. Readr: Read rectangular text data. 2017. <a href="https://CRAN.R-project.org/package=readr" class="uri">https://CRAN.R-project.org/package=readr</a>.</p>
</div>
<div id="ref-Hornik_2017">
<p>18. Hornik K. R FAQ. 2017. <a href="https://CRAN.R-project.org/doc/FAQ/R-FAQ.html" class="uri">https://CRAN.R-project.org/doc/FAQ/R-FAQ.html</a>.</p>
</div>
<div id="ref-Vuorre_2018">
<p>19. Vuorre M, Curley JP. Curating research assets: A tutorial on the git version control system. Advances in Methods and Practices in Psychological Science. 2018;0:2515245918754826. doi:<a href="https://doi.org/10.1177/2515245918754826">10.1177/2515245918754826</a>.</p>
</div>
<div id="ref-devtools_2018">
<p>20. Wickham H, Hester J, Chang W. Devtools: Tools to make developing r packages easier. 2018. <a href="https://CRAN.R-project.org/package=devtools" class="uri">https://CRAN.R-project.org/package=devtools</a>.</p>
</div>
<div id="ref-dplyr_2017">
<p>21. Wickham H, Francois R, Henry L, Müller K. Dplyr: A grammar of data manipulation. 2017. <a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>.</p>
</div>
<div id="ref-Siller_2006">
<p>22. Siller AB, Tompkins L. The big four: Analyzing complex sample survey data using sas, spss, stata, and sudaan. In: Proceedings of the thirty-first annual sas users group international conference. SAS Institute Inc; 2006. pp. 26–9.</p>
</div>
<div id="ref-Lumley_2004">
<p>23. Lumley T. Analysis of complex survey samples. Journal of Statistical Software. 2004;9:1–19.</p>
</div>
<div id="ref-survey_2017">
<p>24. Lumley T. Survey: Analysis of complex survey samples. 2017.</p>
</div>
<div id="ref-Lumley_2011">
<p>25. Lumley T. Complex surveys: A guide to analysis using r. John Wiley &amp; Sons; 2011.</p>
</div>
<div id="ref-Hoerl_1970">
<p>26. Hoerl AE, Kennard RW. Ridge regression: Biased estimation for nonorthogonal problems. Technometrics. 1970;12:55. doi:<a href="https://doi.org/10.2307/1267351">10.2307/1267351</a>.</p>
</div>
<div id="ref-survival_2015">
<p>27. Therneau TM. A package for survival analysis in s. 2015. <a href="https://CRAN.R-project.org/package=survival" class="uri">https://CRAN.R-project.org/package=survival</a>.</p>
</div>
<div id="ref-purrr_2017">
<p>28. Henry L, Wickham H. Purrr: Functional programming tools. 2017. <a href="https://CRAN.R-project.org/package=purrr" class="uri">https://CRAN.R-project.org/package=purrr</a>.</p>
</div>
<div id="ref-Mecklenburg_2004">
<p>29. Mecklenburg R. Managing projects with gnu make: The power of gnu make for building anything. &quot;O’Reilly Media, Inc.&quot;; 2004.</p>
</div>
<div id="ref-Bozdogan_1987">
<p>30. Bozdogan H. Model selection and akaike’s information criterion (aic): The general theory and its analytical extensions. Psychometrika. 1987;52:345–70.</p>
</div>
<div id="ref-Gonen_2005">
<p>31. Gönen M, Heller G. Concordance probability and discriminatory power in proportional hazards regression. Biometrika. 2005;92:965–70.</p>
</div>
<div id="ref-tidyr_2018">
<p>32. Wickham H, Henry L. Tidyr: Easily tidy data with ’spread()’ and ’gather()’ f unctions. 2018. <a href="https://CRAN.R-project.org/package=tidyr" class="uri">https://CRAN.R-project.org/package=tidyr</a>.</p>
</div>
<div id="ref-stringr_2018">
<p>33. Wickham H. Stringr: Simple, consistent wrappers for common string o perations. 2018. <a href="https://CRAN.R-project.org/package=stringr" class="uri">https://CRAN.R-project.org/package=stringr</a>.</p>
</div>
<div id="ref-forcats_2018">
<p>34. Wickham H. Forcats: Tools for working with categorical variables (f actors). 2018. <a href="https://CRAN.R-project.org/package=forcats" class="uri">https://CRAN.R-project.org/package=forcats</a>.</p>
</div>
<div id="ref-gglot2_2009">
<p>35. Wickham H. Ggplot2: Elegant graphics for data analysis. Springer-Verlag New York; 2009. <a href="http://ggplot2.org" class="uri">http://ggplot2.org</a>.</p>
</div>
<div id="ref-Ng_2004">
<p>36. Ng AY. Feature selection, l1 vs. L2 regularization, and rotational invariance. In: Proceedings of the twenty-first international conference on machine learning. ACM; 2004. p. 78.</p>
</div>
<div id="ref-Kohavi_1997">
<p>37. Kohavi R, John GH. Wrappers for feature subset selection. Artificial intelligence. 1997;97:273–324.</p>
</div>
<div id="ref-Tibshirani_1997">
<p>38. Tibshirani R. The lasso method for variable selection in the cox model. Statistics in medicine. 1997;16:385–95.</p>
</div>
<div id="ref-Zou_2005">
<p>39. Zou H, Hastie T. Regularization and variable selection via the elastic net. Journal of the Royal Statistical Society: Series B (Statistical Methodology). 2005;67:301–20.</p>
</div>
<div id="ref-rpart_2017">
<p>40. Therneau T, Atkinson B, Ripley B. Rpart: Recursive partitioning and regression trees. 2017. <a href="https://CRAN.R-project.org/package=rpart" class="uri">https://CRAN.R-project.org/package=rpart</a>.</p>
</div>
<div id="ref-Ishwaran_2008">
<p>41. Ishwaran H, Kogalur UB, Blackstone EH, Lauer MS. Random survival forests. The Annals of Applied Statistics. 2008;2:841–60. doi:<a href="https://doi.org/10.1214/08-aoas169">10.1214/08-aoas169</a>.</p>
</div>
<div id="ref-Chen_2016">
<p>42. Chen T, Guestrin C. XGBoost. In: Proceedings of the 22nd ACM SIGKDD international conference on knowledge discovery and data mining - KDD 16. ACM Press; 2016. doi:<a href="https://doi.org/10.1145/2939672.2939785">10.1145/2939672.2939785</a>.</p>
</div>
<div id="ref-Chowdhury_2003">
<p>43. Chowdhury GG. Natural language processing. Annual review of information science and technology. 2003;37:51–89.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>The <a href="https://www.cdc.gov/nchs/tutorials/NHANES/SurveyDesign/SampleDesign/intro_iii.htm">National Center for Health Statistics (NCHS)</a> recommends the application of the provided sampling design variables and sampling weights in all NHANES analyses.<a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>footnote text<a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p><strong>???</strong><a href="#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p><strong>???</strong><a href="#fnref4" class="footnote-back">↩</a></p></li>
</ol>
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
