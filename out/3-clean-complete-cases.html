<pre><code>library(here)

## here() starts at /Users/marskar/gdrive/nhanes

library(readr)
library(dplyr)

## 
## Attaching package: &#39;dplyr&#39;

## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag

## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union

library(caret)

## Loading required package: lattice

## Loading required package: ggplot2

#remove non-numeric variables
#remove variables with more than one unique value
#remove highly correlated variables

dat &lt;- read_rds(here(&#39;dat/2-join-complete-cases.rds&#39;)) %&gt;%
    select_if(is.numeric) %&gt;%
    select_if(~n_distinct(.) &gt; 1)  %&gt;%
    select(-findCorrelation(cor(.), cutoff=0.82)) %&gt;%
    write_rds(here(&quot;dat/3-clean-complete-cases.rds&quot;))</code></pre>
